@using BlazorPokedex.Model.pokemon;
@using Services
@inject IPokeApiClient Service
@page "/pokemondetail/{name}";

@if (Pokemon is null)
{
    <p> <em>Loading... </em></p>
}
else
{
    <div class="content-fluid">
        <h3>@Pokemon.Name.ToUpper()</h3>

        <fieldset title="@Pokemon.Name.ToUpper()">
            <div class="row">
                <div class="col-6">
                    <div class="col-md-3 mb-3">
                        <h3>Heigth</h3>
                        @Pokemon.Heigth
                    </div>
                    <div class="col-md-3 mb-3">
                        <h3>Experience</h3>
                        @Pokemon.Heigth
                    </div>

                    <div class="col-md-3 mb-3">
                        <h3>Experience</h3>
                        @Pokemon.Experience
                    </div>

                </div>
                <div class="col-6">
                    <ul class="list-group">
                        @foreach (var item2 in Pokemon.Types)
                        {
                            <li class="list-group-item d-flex justify-content-between align-items-lg-start bg-@(item2.PokemonType.Name)">
                                <span class="badge bg-primary rounded-pill">@item2.Slot</span>
                                <p>@item2.PokemonType.Name </p>
                            </li>
                        }
                    </ul>

                </div>
            </div>

        </fieldset>

    </div>

    <fieldset>
        <div class="row">
            <div class="col-12">
                <div class="col-md-4 mb-4">
                    <img src="@(Pokemon.Sprite.Front)" class="img-fluid imagesPoke1" alt="@(Pokemon.Name)">
                </div>
                <div class="col-md-4 mb-4">
                    <img src="@(Pokemon.Sprite.FrontShiny)" class="img-fluid imagesPoke" alt="@(Pokemon.Name)">
                </div>
                <div class="col-md-4 mb-3">
                    <img src="@(Pokemon.Sprite.Back)" class="img-fluid imagesPoke" alt="@(Pokemon.Name)">
                </div>
                <div class="col-md-4 mb-4">
                    <img src="@(Pokemon.Sprite.BackShiny)" class="img-fluid imagesPoke" alt="@(Pokemon.Name)">
                </div>
            </div>
        </div>

    </fieldset>
}


@code {
    [Parameter]
    public string Name { get; set; }
    public Pokemon Pokemon { get; set; }
    protected override async Task OnInitializedAsync()
    {
        Pokemon = await Service.Get(Name);
    }
}